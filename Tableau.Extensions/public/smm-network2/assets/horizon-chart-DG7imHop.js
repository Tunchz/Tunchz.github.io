import{a as tn}from"./axis-hLREC-WR.js";import{T as rn,f as un,F as Te}from"./_plugin-vue2_normalizer-xzsEtbse.js";import{b as on,t as pe,c as an,a as cn,l as ln}from"./linear-LTQgAPe2.js";import{i as fn}from"./main-CVmQxpd7.js";import{m as ve}from"./max-DBeXZoyG.js";import{c as O,p as sn}from"./constant-I5scnKCP.js";import{c as gn,l as mn}from"./line-C5Si6S0i.js";import{x as hn,y as yn}from"./point-DWREGWZc.js";import{c as Tn}from"./basis-BqPSjl11.js";import"./index-BvYcEE5T.js";function pn(e,n){e=e.slice();var t=0,r=e.length-1,f=e[t],o=e[r],c;return o<f&&(c=t,t=r,r=c,c=f,f=o,o=c),e[t]=n.floor(f),e[r]=n.ceil(o),e}var oe=new Date,ae=new Date;function S(e,n,t,r){function f(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return f.floor=function(o){return e(o=new Date(+o)),o},f.ceil=function(o){return e(o=new Date(o-1)),n(o,1),e(o),o},f.round=function(o){var c=f(o),g=f.ceil(o);return o-c<g-o?c:g},f.offset=function(o,c){return n(o=new Date(+o),c==null?1:Math.floor(c)),o},f.range=function(o,c,g){var s=[],m;if(o=f.ceil(o),g=g==null?1:Math.floor(g),!(o<c)||!(g>0))return s;do s.push(m=new Date(+o)),n(o,g),e(o);while(m<o&&o<c);return s},f.filter=function(o){return S(function(c){if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},function(c,g){if(c>=c)if(g<0)for(;++g<=0;)for(;n(c,-1),!o(c););else for(;--g>=0;)for(;n(c,1),!o(c););})},t&&(f.count=function(o,c){return oe.setTime(+o),ae.setTime(+c),e(oe),e(ae),Math.floor(t(oe,ae))},f.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?f.filter(r?function(c){return r(c)%o===0}:function(c){return f.count(0,c)%o===0}):f}),f}var ne=S(function(){},function(e,n){e.setTime(+e+n)},function(e,n){return n-e});ne.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?S(function(n){n.setTime(Math.floor(n/e)*e)},function(n,t){n.setTime(+n+t*e)},function(n,t){return(t-n)/e}):ne};ne.range;const $=1e3,N=$*60,R=N*60,z=R*24,fe=z*7,Ce=z*30,ie=z*365;var E=S(function(e){e.setTime(e-e.getMilliseconds())},function(e,n){e.setTime(+e+n*$)},function(e,n){return(n-e)/$},function(e){return e.getUTCSeconds()});E.range;var se=S(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*N)/z,e=>e.getDate()-1);se.range;function V(e){return S(function(n){n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},function(n,t){n.setDate(n.getDate()+t*7)},function(n,t){return(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*N)/fe})}var We=V(0),te=V(1),vn=V(2),Cn=V(3),J=V(4),Un=V(5),Mn=V(6);We.range;te.range;vn.range;Cn.range;J.range;Un.range;Mn.range;var Q=S(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n)},function(e,n){return n.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Q.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:S(function(n){n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t*e)})};Q.range;var ge=S(function(e){e.setUTCSeconds(0,0)},function(e,n){e.setTime(+e+n*N)},function(e,n){return(n-e)/N},function(e){return e.getUTCMinutes()});ge.range;var me=S(function(e){e.setUTCMinutes(0,0,0)},function(e,n){e.setTime(+e+n*R)},function(e,n){return(n-e)/R},function(e){return e.getUTCHours()});me.range;var ee=S(function(e){e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n)},function(e,n){return(n-e)/z},function(e){return e.getUTCDate()-1});ee.range;function q(e){return S(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t*7)},function(n,t){return(t-n)/fe})}var ue=q(0),re=q(1),Dn=q(2),xn=q(3),j=q(4),wn=q(5),Sn=q(6);ue.range;re.range;Dn.range;xn.range;j.range;wn.range;Sn.range;var he=S(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCMonth(e.getUTCMonth()+n)},function(e,n){return n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});he.range;var I=S(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n)},function(e,n){return n.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});I.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:S(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t*e)})};I.range;function dn(e,n,t,r,f,o){const c=[[E,1,$],[E,5,5*$],[E,15,15*$],[E,30,30*$],[o,1,N],[o,5,5*N],[o,15,15*N],[o,30,30*N],[f,1,R],[f,3,3*R],[f,6,6*R],[f,12,12*R],[r,1,z],[r,2,2*z],[t,1,fe],[n,1,Ce],[n,3,3*Ce],[e,1,ie]];function g(m,a,y){const M=a<m;M&&([m,a]=[a,m]);const C=y&&typeof y.range=="function"?y:s(m,a,y),D=C?C.range(m,+a+1):[];return M?D.reverse():D}function s(m,a,y){const M=Math.abs(a-m)/y,C=on(([,,k])=>k).right(c,M);if(C===c.length)return e.every(pe(m/ie,a/ie,y));if(C===0)return ne.every(Math.max(pe(m,a,y),1));const[D,d]=c[M/c[C-1][2]<c[C][2]/M?C-1:C];return D.every(d)}return[g,s]}const[Fn,Yn]=dn(I,he,ue,ee,me,ge);function ce(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function le(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function G(e,n,t){return{y:e,m:n,d:t,H:0,M:0,S:0,L:0}}function bn(e){var n=e.dateTime,t=e.date,r=e.time,f=e.periods,o=e.days,c=e.shortDays,g=e.months,s=e.shortMonths,m=K(f),a=_(f),y=K(o),M=_(o),C=K(c),D=_(c),d=K(g),k=_(g),H=K(s),A=_(s),w={a:Ve,A:qe,b:Xe,B:Ee,c:null,d:Se,e:Se,f:Kn,g:ct,G:ft,H:jn,I:Bn,j:Gn,L:ke,m:_n,M:et,p:Je,q:je,Q:Ye,s:be,S:nt,u:tt,U:rt,V:ut,w:ot,W:at,x:null,X:null,y:it,Y:lt,Z:st,"%":Fe},L={a:Be,A:Ge,b:Ke,B:_e,c:null,d:de,e:de,f:yt,g:St,G:Ft,H:gt,I:mt,j:ht,L:Le,m:Tt,M:pt,p:en,q:nn,Q:Ye,s:be,S:vt,u:Ct,U:Ut,V:Mt,w:Dt,W:xt,x:null,X:null,y:wt,Y:dt,Z:Yt,"%":Fe},B={a:Ie,A:Ze,b:Pe,B:$e,c:Re,d:xe,e:xe,f:qn,g:De,G:Me,H:we,I:we,j:Rn,L:Vn,m:$n,M:zn,p:Z,q:Pn,Q:En,s:Jn,S:Qn,u:An,U:On,V:Nn,w:Ln,W:In,x:ze,X:Qe,y:De,Y:Me,Z:Zn,"%":Xn};w.x=h(t,w),w.X=h(r,w),w.c=h(n,w),L.x=h(t,L),L.X=h(r,L),L.c=h(n,L);function h(i,T){return function(p){var u=[],Y=-1,U=0,b=i.length,W,P,ye;for(p instanceof Date||(p=new Date(+p));++Y<b;)i.charCodeAt(Y)===37&&(u.push(i.slice(U,Y)),(P=Ue[W=i.charAt(++Y)])!=null?W=i.charAt(++Y):P=W==="e"?" ":"0",(ye=T[W])&&(W=ye(p,P)),u.push(W),U=Y+1);return u.push(i.slice(U,Y)),u.join("")}}function l(i,T){return function(p){var u=G(1900,void 0,1),Y=F(u,i,p+="",0),U,b;if(Y!=p.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(u.s*1e3+("L"in u?u.L:0));if(T&&!("Z"in u)&&(u.Z=0),"p"in u&&(u.H=u.H%12+u.p*12),u.m===void 0&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(U=le(G(u.y,0,1)),b=U.getUTCDay(),U=b>4||b===0?re.ceil(U):re(U),U=ee.offset(U,(u.V-1)*7),u.y=U.getUTCFullYear(),u.m=U.getUTCMonth(),u.d=U.getUTCDate()+(u.w+6)%7):(U=ce(G(u.y,0,1)),b=U.getDay(),U=b>4||b===0?te.ceil(U):te(U),U=se.offset(U,(u.V-1)*7),u.y=U.getFullYear(),u.m=U.getMonth(),u.d=U.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),b="Z"in u?le(G(u.y,0,1)).getUTCDay():ce(G(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+u.W*7-(b+5)%7:u.w+u.U*7-(b+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,le(u)):ce(u)}}function F(i,T,p,u){for(var Y=0,U=T.length,b=p.length,W,P;Y<U;){if(u>=b)return-1;if(W=T.charCodeAt(Y++),W===37){if(W=T.charAt(Y++),P=B[W in Ue?T.charAt(Y++):W],!P||(u=P(i,p,u))<0)return-1}else if(W!=p.charCodeAt(u++))return-1}return u}function Z(i,T,p){var u=m.exec(T.slice(p));return u?(i.p=a.get(u[0].toLowerCase()),p+u[0].length):-1}function Ie(i,T,p){var u=C.exec(T.slice(p));return u?(i.w=D.get(u[0].toLowerCase()),p+u[0].length):-1}function Ze(i,T,p){var u=y.exec(T.slice(p));return u?(i.w=M.get(u[0].toLowerCase()),p+u[0].length):-1}function Pe(i,T,p){var u=H.exec(T.slice(p));return u?(i.m=A.get(u[0].toLowerCase()),p+u[0].length):-1}function $e(i,T,p){var u=d.exec(T.slice(p));return u?(i.m=k.get(u[0].toLowerCase()),p+u[0].length):-1}function Re(i,T,p){return F(i,n,T,p)}function ze(i,T,p){return F(i,t,T,p)}function Qe(i,T,p){return F(i,r,T,p)}function Ve(i){return c[i.getDay()]}function qe(i){return o[i.getDay()]}function Xe(i){return s[i.getMonth()]}function Ee(i){return g[i.getMonth()]}function Je(i){return f[+(i.getHours()>=12)]}function je(i){return 1+~~(i.getMonth()/3)}function Be(i){return c[i.getUTCDay()]}function Ge(i){return o[i.getUTCDay()]}function Ke(i){return s[i.getUTCMonth()]}function _e(i){return g[i.getUTCMonth()]}function en(i){return f[+(i.getUTCHours()>=12)]}function nn(i){return 1+~~(i.getUTCMonth()/3)}return{format:function(i){var T=h(i+="",w);return T.toString=function(){return i},T},parse:function(i){var T=l(i+="",!1);return T.toString=function(){return i},T},utcFormat:function(i){var T=h(i+="",L);return T.toString=function(){return i},T},utcParse:function(i){var T=l(i+="",!0);return T.toString=function(){return i},T}}}var Ue={"-":"",_:" ",0:"0"},x=/^\s*\d+/,Wn=/^%/,kn=/[\\^$*+?|[\]().{}]/g;function v(e,n,t){var r=e<0?"-":"",f=(r?-e:e)+"",o=f.length;return r+(o<t?new Array(t-o+1).join(n)+f:f)}function Hn(e){return e.replace(kn,"\\$&")}function K(e){return new RegExp("^(?:"+e.map(Hn).join("|")+")","i")}function _(e){return new Map(e.map((n,t)=>[n.toLowerCase(),t]))}function Ln(e,n,t){var r=x.exec(n.slice(t,t+1));return r?(e.w=+r[0],t+r[0].length):-1}function An(e,n,t){var r=x.exec(n.slice(t,t+1));return r?(e.u=+r[0],t+r[0].length):-1}function On(e,n,t){var r=x.exec(n.slice(t,t+2));return r?(e.U=+r[0],t+r[0].length):-1}function Nn(e,n,t){var r=x.exec(n.slice(t,t+2));return r?(e.V=+r[0],t+r[0].length):-1}function In(e,n,t){var r=x.exec(n.slice(t,t+2));return r?(e.W=+r[0],t+r[0].length):-1}function Me(e,n,t){var r=x.exec(n.slice(t,t+4));return r?(e.y=+r[0],t+r[0].length):-1}function De(e,n,t){var r=x.exec(n.slice(t,t+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function Zn(e,n,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(t,t+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function Pn(e,n,t){var r=x.exec(n.slice(t,t+1));return r?(e.q=r[0]*3-3,t+r[0].length):-1}function $n(e,n,t){var r=x.exec(n.slice(t,t+2));return r?(e.m=r[0]-1,t+r[0].length):-1}function xe(e,n,t){var r=x.exec(n.slice(t,t+2));return r?(e.d=+r[0],t+r[0].length):-1}function Rn(e,n,t){var r=x.exec(n.slice(t,t+3));return r?(e.m=0,e.d=+r[0],t+r[0].length):-1}function we(e,n,t){var r=x.exec(n.slice(t,t+2));return r?(e.H=+r[0],t+r[0].length):-1}function zn(e,n,t){var r=x.exec(n.slice(t,t+2));return r?(e.M=+r[0],t+r[0].length):-1}function Qn(e,n,t){var r=x.exec(n.slice(t,t+2));return r?(e.S=+r[0],t+r[0].length):-1}function Vn(e,n,t){var r=x.exec(n.slice(t,t+3));return r?(e.L=+r[0],t+r[0].length):-1}function qn(e,n,t){var r=x.exec(n.slice(t,t+6));return r?(e.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function Xn(e,n,t){var r=Wn.exec(n.slice(t,t+1));return r?t+r[0].length:-1}function En(e,n,t){var r=x.exec(n.slice(t));return r?(e.Q=+r[0],t+r[0].length):-1}function Jn(e,n,t){var r=x.exec(n.slice(t));return r?(e.s=+r[0],t+r[0].length):-1}function Se(e,n){return v(e.getDate(),n,2)}function jn(e,n){return v(e.getHours(),n,2)}function Bn(e,n){return v(e.getHours()%12||12,n,2)}function Gn(e,n){return v(1+se.count(Q(e),e),n,3)}function ke(e,n){return v(e.getMilliseconds(),n,3)}function Kn(e,n){return ke(e,n)+"000"}function _n(e,n){return v(e.getMonth()+1,n,2)}function et(e,n){return v(e.getMinutes(),n,2)}function nt(e,n){return v(e.getSeconds(),n,2)}function tt(e){var n=e.getDay();return n===0?7:n}function rt(e,n){return v(We.count(Q(e)-1,e),n,2)}function He(e){var n=e.getDay();return n>=4||n===0?J(e):J.ceil(e)}function ut(e,n){return e=He(e),v(J.count(Q(e),e)+(Q(e).getDay()===4),n,2)}function ot(e){return e.getDay()}function at(e,n){return v(te.count(Q(e)-1,e),n,2)}function it(e,n){return v(e.getFullYear()%100,n,2)}function ct(e,n){return e=He(e),v(e.getFullYear()%100,n,2)}function lt(e,n){return v(e.getFullYear()%1e4,n,4)}function ft(e,n){var t=e.getDay();return e=t>=4||t===0?J(e):J.ceil(e),v(e.getFullYear()%1e4,n,4)}function st(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+v(n/60|0,"0",2)+v(n%60,"0",2)}function de(e,n){return v(e.getUTCDate(),n,2)}function gt(e,n){return v(e.getUTCHours(),n,2)}function mt(e,n){return v(e.getUTCHours()%12||12,n,2)}function ht(e,n){return v(1+ee.count(I(e),e),n,3)}function Le(e,n){return v(e.getUTCMilliseconds(),n,3)}function yt(e,n){return Le(e,n)+"000"}function Tt(e,n){return v(e.getUTCMonth()+1,n,2)}function pt(e,n){return v(e.getUTCMinutes(),n,2)}function vt(e,n){return v(e.getUTCSeconds(),n,2)}function Ct(e){var n=e.getUTCDay();return n===0?7:n}function Ut(e,n){return v(ue.count(I(e)-1,e),n,2)}function Ae(e){var n=e.getUTCDay();return n>=4||n===0?j(e):j.ceil(e)}function Mt(e,n){return e=Ae(e),v(j.count(I(e),e)+(I(e).getUTCDay()===4),n,2)}function Dt(e){return e.getUTCDay()}function xt(e,n){return v(re.count(I(e)-1,e),n,2)}function wt(e,n){return v(e.getUTCFullYear()%100,n,2)}function St(e,n){return e=Ae(e),v(e.getUTCFullYear()%100,n,2)}function dt(e,n){return v(e.getUTCFullYear()%1e4,n,4)}function Ft(e,n){var t=e.getUTCDay();return e=t>=4||t===0?j(e):j.ceil(e),v(e.getUTCFullYear()%1e4,n,4)}function Yt(){return"+0000"}function Fe(){return"%"}function Ye(e){return+e}function be(e){return Math.floor(+e/1e3)}var X,Oe;bt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bt(e){return X=bn(e),X.format,X.parse,Oe=X.utcFormat,X.utcParse,X}function Wt(e){return new Date(e)}function kt(e){return e instanceof Date?+e:+new Date(+e)}function Ne(e,n,t,r,f,o,c,g,s,m){var a=an(),y=a.invert,M=a.domain,C=m(".%L"),D=m(":%S"),d=m("%I:%M"),k=m("%I %p"),H=m("%a %d"),A=m("%b %d"),w=m("%B"),L=m("%Y");function B(h){return(s(h)<h?C:g(h)<h?D:c(h)<h?d:o(h)<h?k:r(h)<h?f(h)<h?H:A:t(h)<h?w:L)(h)}return a.invert=function(h){return new Date(y(h))},a.domain=function(h){return arguments.length?M(Array.from(h,kt)):M().map(Wt)},a.ticks=function(h){var l=M();return e(l[0],l[l.length-1],h??10)},a.tickFormat=function(h,l){return l==null?B:m(l)},a.nice=function(h){var l=M();return(!h||typeof h.range!="function")&&(h=n(l[0],l[l.length-1],h??10)),h?M(pn(l,h)):a},a.copy=function(){return cn(a,Ne(e,n,t,r,f,o,c,g,s,m))},a}function Ht(){return fn.apply(Ne(Fn,Yn,I,he,ue,ee,me,ge,E,Oe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lt(){var e=hn,n=null,t=O(0),r=yn,f=O(!0),o=null,c=gn,g=null;function s(a){var y,M,C,D=a.length,d,k=!1,H,A=new Array(D),w=new Array(D);for(o==null&&(g=c(H=sn())),y=0;y<=D;++y){if(!(y<D&&f(d=a[y],y,a))===k)if(k=!k)M=y,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),C=y-1;C>=M;--C)g.point(A[C],w[C]);g.lineEnd(),g.areaEnd()}k&&(A[y]=+e(d,y,a),w[y]=+t(d,y,a),g.point(n?+n(d,y,a):A[y],r?+r(d,y,a):w[y]))}if(H)return g=null,H+""||null}function m(){return mn().defined(f).curve(c).context(o)}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:O(+a),n=null,s):e},s.x0=function(a){return arguments.length?(e=typeof a=="function"?a:O(+a),s):e},s.x1=function(a){return arguments.length?(n=a==null?null:typeof a=="function"?a:O(+a),s):n},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:O(+a),r=null,s):t},s.y0=function(a){return arguments.length?(t=typeof a=="function"?a:O(+a),s):t},s.y1=function(a){return arguments.length?(r=a==null?null:typeof a=="function"?a:O(+a),s):r},s.lineX0=s.lineY0=function(){return m().x(e).y(t)},s.lineY1=function(){return m().x(e).y(r)},s.lineX1=function(){return m().x(n).y(t)},s.defined=function(a){return arguments.length?(f=typeof a=="function"?a:O(!!a),s):f},s.curve=function(a){return arguments.length?(c=a,o!=null&&(g=c(o)),s):c},s.context=function(a){return arguments.length?(a==null?o=g=null:g=c(o=a),s):o},s}function Vt(e,n,t){const r=n[0],f=n[1];let o=[],c=new Map;e.sort((g,s)=>g[f].value>s[f].value?1:-1);for(let g of e){let s=new Date(g[r].value),m=g[f].value,a=parseFloat(g[t].value),y=[];if(c.has(m)){y=c.get(m),y.push({date:s,name:m,value:a}),c.set(m,y);continue}else c.set(m,[{date:s,name:m,value:a}])}return c.forEach((g,s)=>{g.sort((m,a)=>new Date(m.date)>new Date(a.date)?1:-1),o.push({key:s,values:g})}),o}function qt(e,n,t){let{width:r,height:f,divergingColorScheme:o,enableLegend:c,legendPosition:g}=t;const s=new rn("#tooltip",r,f);let m=parseFloat(t.extraSettings[0])||1,a=t.extraSettings[1]==="0"?0:1,y=t.extraSettings[2]||(t!=null&&t.textColor?t.textColor:"#ffffff"),M={top:30,right:0,bottom:0,left:0},C=Math.floor((f-M.top)/n.length),D=Ht().domain([n[0].values[0].date,n[0].values[n[0].values.length-1].date]).range([0,r]),d=ve(n,l=>ve(l.values,F=>Math.abs(F.value))),k=ln().domain([-d,+d]).range([m*C,-m*C]);var H=un(Te,"name",o);H=H===-1?3:H;let A=Te[H].scheme,w=l=>A[m*2+1][l+(l>=0)+m],L=l=>l.attr("transform",`translate(0,${M.top})`).attr("color",y).call(tn(D).ticks(r/80).tickSizeOuter(0)).call(F=>F.selectAll(".tick").filter(Z=>D(Z)<M.left||D(Z)>=r-M.right).remove()).call(F=>F.select(".domain").remove()),B=Lt().curve(Tn).defined(l=>!isNaN(l.value)).x(l=>D(l.date)).y0(0).y1(l=>k(l.value));const h=e.append("g").selectAll("g").data(n).enter().append("g").attr("transform",(l,F)=>`translate(0,${F*(C+1)+M.top})`);h.append("clipPath").attr("id",l=>l.clip=`clip-${btoa(l.key)}`).append("rect").attr("width",r).attr("height",C),h.append("defs").append("path").attr("id",l=>l.path=`path-${btoa(l.key)}`).attr("d",l=>B(l.values)),h.append("g").attr("clip-path",l=>`url(#${l.clip})`).selectAll("use").data(l=>Array.from({length:m*2},(F,Z)=>Object.assign({index:Z<m?-Z-1:Z-m},l))).enter().append("use").attr("fill",(l,F)=>w(l.index)).style("fill-opacity",.9).attr("transform",l=>l.index<0?`scale(1,-1) translate(0,${l.index*C})`:`translate(0,${(l.index+1)*C})`).attr("xlink:href",l=>`#${l.path}`).on("mouseover",l=>{s.showHtml(`${l.key}`)}).on("mousemove",()=>{s.updatePosition()}).on("mouseout",()=>{s.hide()}),a&&h.append("text").attr("x",4).attr("y",C/2).attr("dy","0.35em").text(l=>l.key).style("fill",y),e.append("g").call(L)}export{qt as draw,Vt as parse};
//# sourceMappingURL=horizon-chart-DG7imHop.js.map
