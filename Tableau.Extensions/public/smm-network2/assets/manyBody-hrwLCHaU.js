import{t as J,p as et}from"./math-CBKwitpL.js";import{c as L,p as Pt}from"./constant-I5scnKCP.js";import{d as kt,n as Z,a as tt,y as Dt}from"./zoom-BnyqM2yK.js";import{k as lt,v as E,G as ht}from"./_plugin-vue2_normalizer-xzsEtbse.js";import{m as It,t as zt}from"./touch-Dr12ZUMz.js";const mt={draw:function(t,e){var n=Math.sqrt(e/et);t.moveTo(n,0),t.arc(0,0,n,0,J)}},$t={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var dt=Math.sqrt(1/3),qt=dt*2;const Ot={draw:function(t,e){var n=Math.sqrt(e/qt),r=n*dt;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var St=.8908130915292852,_t=Math.sin(et/10)/Math.sin(7*et/10),Ft=Math.sin(J/10)*_t,Ct=-Math.cos(J/10)*_t;const Xt={draw:function(t,e){var n=Math.sqrt(e*St),r=Ft*n,i=Ct*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var u=J*o/5,h=Math.cos(u),y=Math.sin(u);t.lineTo(y*n,-h*n),t.lineTo(h*r-y*i,y*r+h*i)}t.closePath()}},Yt={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var nt=Math.sqrt(3);const Bt={draw:function(t,e){var n=-Math.sqrt(e/(nt*3));t.moveTo(0,n*2),t.lineTo(-nt*n,-n),t.lineTo(nt*n,-n),t.closePath()}};var D=-.5,I=Math.sqrt(3)/2,rt=1/Math.sqrt(12),Lt=(rt/2+1)*3;const Qt={draw:function(t,e){var n=Math.sqrt(e/Lt),r=n/2,i=n*rt,o=r,u=n*rt+n,h=-o,y=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(h,y),t.lineTo(D*r-I*i,I*r+D*i),t.lineTo(D*o-I*u,I*o+D*u),t.lineTo(D*h-I*y,I*h+D*y),t.lineTo(D*r+I*i,D*i-I*r),t.lineTo(D*o+I*u,D*u-I*o),t.lineTo(D*h+I*y,D*y-I*h),t.closePath()}};var Sn=[mt,$t,Ot,Yt,Xt,Bt,Qt];function Fn(){var t=L(mt),e=L(64),n=null;function r(){var i;if(n||(n=i=Pt()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return r.type=function(i){return arguments.length?(t=typeof i=="function"?i:L(i),r):t},r.size=function(i){return arguments.length?(e=typeof i=="function"?i:L(+i),r):e},r.context=function(i){return arguments.length?(n=i??null,r):n},r}var Gt={value:function(){}};function xt(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new G(n)}function G(t){this._=t}function Ht(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}G.prototype=xt.prototype={constructor:G,on:function(t,e){var n=this._,r=Ht(t+"",n),i,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((i=(t=r[o]).type)&&(i=Kt(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(i=(t=r[o]).type)n[i]=ct(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ct(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new G(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Kt(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ct(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Gt,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}function Q(t){return function(){return t}}function it(t,e,n,r,i,o,u,h,y,s){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=h,this.dy=y,this._=s}it.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Rt(){return!E.ctrlKey&&!E.button}function Jt(){return this.parentNode}function Ut(t){return t??{x:E.x,y:E.y}}function Vt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cn(){var t=Rt,e=Jt,n=Ut,r=Vt,i={},o=xt("start","drag","end"),u=0,h,y,s,p,d=0;function v(a){a.on("mousedown.drag",c).filter(r).on("touchstart.drag",f).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){if(!(p||!t.apply(this,arguments))){var a=_("mouse",e.apply(this,arguments),It,this,arguments);a&&(lt(E.view).on("mousemove.drag",m,!0).on("mouseup.drag",l,!0),kt(E.view),Z(),s=!1,h=E.clientX,y=E.clientY,a("start"))}}function m(){if(tt(),!s){var a=E.clientX-h,x=E.clientY-y;s=a*a+x*x>d}i.mouse("drag")}function l(){lt(E.view).on("mousemove.drag mouseup.drag",null),Dt(E.view,s),tt(),i.mouse("end")}function f(){if(t.apply(this,arguments)){var a=E.changedTouches,x=e.apply(this,arguments),T=a.length,M,N;for(M=0;M<T;++M)(N=_(a[M].identifier,x,zt,this,arguments))&&(Z(),N("start"))}}function g(){var a=E.changedTouches,x=a.length,T,M;for(T=0;T<x;++T)(M=i[a[T].identifier])&&(tt(),M("drag"))}function w(){var a=E.changedTouches,x=a.length,T,M;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),T=0;T<x;++T)(M=i[a[T].identifier])&&(Z(),M("end"))}function _(a,x,T,M,N){var A=T(x,a),b,z,$,k=o.copy();if(ht(new it(v,"beforestart",b,a,u,A[0],A[1],0,0,k),function(){return(E.subject=b=n.apply(M,N))==null?!1:(z=b.x-A[0]||0,$=b.y-A[1]||0,!0)}))return function jt(V){var ft=A,W;switch(V){case"start":i[a]=jt,W=u++;break;case"end":delete i[a],--u;case"drag":A=T(x,a),W=u;break}ht(new it(v,V,b,a,W,A[0]+z,A[1]+$,A[0]-ft[0],A[1]-ft[1],k),k.apply,k,[V,M,N])}}return v.filter=function(a){return arguments.length?(t=typeof a=="function"?a:Q(!!a),v):t},v.container=function(a){return arguments.length?(e=typeof a=="function"?a:Q(a),v):e},v.subject=function(a){return arguments.length?(n=typeof a=="function"?a:Q(a),v):n},v.touchable=function(a){return arguments.length?(r=typeof a=="function"?a:Q(!!a),v):r},v.on=function(){var a=o.on.apply(o,arguments);return a===o?v:a},v.clickDistance=function(a){return arguments.length?(d=(a=+a)*a,v):Math.sqrt(d)},v}function Xn(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var o,u=n.length,h,y=0,s=0;for(o=0;o<u;++o)h=n[o],y+=h.x,s+=h.y;for(y=(y/u-t)*r,s=(s/u-e)*r,o=0;o<u;++o)h=n[o],h.x-=y,h.y-=s}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(t=+o,i):t},i.y=function(o){return arguments.length?(e=+o,i):e},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function Wt(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Tt(this.cover(e,n),e,n,t)}function Tt(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,u={data:r},h=t._x0,y=t._y0,s=t._x1,p=t._y1,d,v,c,m,l,f,g,w;if(!o)return t._root=u,t;for(;o.length;)if((l=e>=(d=(h+s)/2))?h=d:s=d,(f=n>=(v=(y+p)/2))?y=v:p=v,i=o,!(o=o[g=f<<1|l]))return i[g]=u,t;if(c=+t._x.call(null,o.data),m=+t._y.call(null,o.data),e===c&&n===m)return u.next=o,i?i[g]=u:t._root=u,t;do i=i?i[g]=new Array(4):t._root=new Array(4),(l=e>=(d=(h+s)/2))?h=d:s=d,(f=n>=(v=(y+p)/2))?y=v:p=v;while((g=f<<1|l)===(w=(m>=v)<<1|c>=d));return i[w]=o,i[g]=u,t}function Zt(t){var e,n,r=t.length,i,o,u=new Array(r),h=new Array(r),y=1/0,s=1/0,p=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(u[n]=i,h[n]=o,i<y&&(y=i),i>p&&(p=i),o<s&&(s=o),o>d&&(d=o));if(y>p||s>d)return this;for(this.cover(y,s).cover(p,d),n=0;n<r;++n)Tt(this,u[n],h[n],t[n]);return this}function tn(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var u=i-n||1,h=this._root,y,s;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,y=new Array(4),y[s]=h,h=y,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u;break}this._root&&this._root.length&&(this._root=h)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function nn(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function en(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function j(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function rn(t,e,n){var r,i=this._x0,o=this._y0,u,h,y,s,p=this._x1,d=this._y1,v=[],c=this._root,m,l;for(c&&v.push(new j(c,i,o,p,d)),n==null?n=1/0:(i=t-n,o=e-n,p=t+n,d=e+n,n*=n);m=v.pop();)if(!(!(c=m.node)||(u=m.x0)>p||(h=m.y0)>d||(y=m.x1)<i||(s=m.y1)<o))if(c.length){var f=(u+y)/2,g=(h+s)/2;v.push(new j(c[3],f,g,y,s),new j(c[2],u,g,f,s),new j(c[1],f,h,y,g),new j(c[0],u,h,f,g)),(l=(e>=g)<<1|t>=f)&&(m=v[v.length-1],v[v.length-1]=v[v.length-1-l],v[v.length-1-l]=m)}else{var w=t-+this._x.call(null,c.data),_=e-+this._y.call(null,c.data),a=w*w+_*_;if(a<n){var x=Math.sqrt(n=a);i=t-x,o=e-x,p=t+x,d=e+x,r=c.data}}return r}function on(t){if(isNaN(p=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,u=this._x0,h=this._y0,y=this._x1,s=this._y1,p,d,v,c,m,l,f,g;if(!n)return this;if(n.length)for(;;){if((m=p>=(v=(u+y)/2))?u=v:y=v,(l=d>=(c=(h+s)/2))?h=c:s=c,e=n,!(n=n[f=l<<1|m]))return this;if(!n.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(r=e,g=f)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[f]=o:delete e[f],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=o,this)}function an(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function un(){return this._root}function sn(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function fn(t){var e=[],n,r=this._root,i,o,u,h,y;for(r&&e.push(new j(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,u=n.y0,h=n.x1,y=n.y1)&&r.length){var s=(o+h)/2,p=(u+y)/2;(i=r[3])&&e.push(new j(i,s,p,h,y)),(i=r[2])&&e.push(new j(i,o,p,s,y)),(i=r[1])&&e.push(new j(i,s,u,h,p)),(i=r[0])&&e.push(new j(i,o,u,s,p))}return this}function ln(t){var e=[],n=[],r;for(this._root&&e.push(new j(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,u=r.x0,h=r.y0,y=r.x1,s=r.y1,p=(u+y)/2,d=(h+s)/2;(o=i[0])&&e.push(new j(o,u,h,p,d)),(o=i[1])&&e.push(new j(o,p,h,y,d)),(o=i[2])&&e.push(new j(o,u,d,p,s)),(o=i[3])&&e.push(new j(o,p,d,y,s))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function hn(t){return t[0]}function cn(t){return arguments.length?(this._x=t,this):this._x}function gn(t){return t[1]}function vn(t){return arguments.length?(this._y=t,this):this._y}function ut(t,e,n){var r=new st(e??hn,n??gn,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function st(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function gt(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var P=ut.prototype=st.prototype;P.copy=function(){var t=new st(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=gt(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=gt(r));return t};P.add=Wt;P.addAll=Zt;P.cover=tn;P.data=nn;P.extent=en;P.find=rn;P.remove=on;P.removeAll=an;P.root=un;P.size=sn;P.visit=fn;P.visitAfter=ln;P.x=cn;P.y=vn;function O(t){return function(){return t}}function q(t){return(t()-.5)*1e-6}function yn(t){return t.x+t.vx}function pn(t){return t.y+t.vy}function Yn(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=O(t==null?1:+t));function u(){for(var s,p=e.length,d,v,c,m,l,f,g=0;g<o;++g)for(d=ut(e,yn,pn).visitAfter(h),s=0;s<p;++s)v=e[s],l=n[v.index],f=l*l,c=v.x+v.vx,m=v.y+v.vy,d.visit(w);function w(_,a,x,T,M){var N=_.data,A=_.r,b=l+A;if(N){if(N.index>v.index){var z=c-N.x-N.vx,$=m-N.y-N.vy,k=z*z+$*$;k<b*b&&(z===0&&(z=q(r),k+=z*z),$===0&&($=q(r),k+=$*$),k=(b-(k=Math.sqrt(k)))/k*i,v.vx+=(z*=k)*(b=(A*=A)/(f+A)),v.vy+=($*=k)*b,N.vx-=z*(b=1-b),N.vy-=$*b)}return}return a>c+b||T<c-b||x>m+b||M<m-b}}function h(s){if(s.data)return s.r=n[s.data.index];for(var p=s.r=0;p<4;++p)s[p]&&s[p].r>s.r&&(s.r=s[p].r)}function y(){if(e){var s,p=e.length,d;for(n=new Array(p),s=0;s<p;++s)d=e[s],n[d.index]=+t(d,s,e)}}return u.initialize=function(s,p){e=s,r=p,y()},u.iterations=function(s){return arguments.length?(o=+s,u):o},u.strength=function(s){return arguments.length?(i=+s,u):i},u.radius=function(s){return arguments.length?(t=typeof s=="function"?s:O(+s),y(),u):t},u}function wn(t){return t.index}function vt(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Bn(t){var e=wn,n=d,r,i=O(30),o,u,h,y,s,p=1;t==null&&(t=[]);function d(f){return 1/Math.min(h[f.source.index],h[f.target.index])}function v(f){for(var g=0,w=t.length;g<p;++g)for(var _=0,a,x,T,M,N,A,b;_<w;++_)a=t[_],x=a.source,T=a.target,M=T.x+T.vx-x.x-x.vx||q(s),N=T.y+T.vy-x.y-x.vy||q(s),A=Math.sqrt(M*M+N*N),A=(A-o[_])/A*f*r[_],M*=A,N*=A,T.vx-=M*(b=y[_]),T.vy-=N*b,x.vx+=M*(b=1-b),x.vy+=N*b}function c(){if(u){var f,g=u.length,w=t.length,_=new Map(u.map((x,T)=>[e(x,T,u),x])),a;for(f=0,h=new Array(g);f<w;++f)a=t[f],a.index=f,typeof a.source!="object"&&(a.source=vt(_,a.source)),typeof a.target!="object"&&(a.target=vt(_,a.target)),h[a.source.index]=(h[a.source.index]||0)+1,h[a.target.index]=(h[a.target.index]||0)+1;for(f=0,y=new Array(w);f<w;++f)a=t[f],y[f]=h[a.source.index]/(h[a.source.index]+h[a.target.index]);r=new Array(w),m(),o=new Array(w),l()}}function m(){if(u)for(var f=0,g=t.length;f<g;++f)r[f]=+n(t[f],f,t)}function l(){if(u)for(var f=0,g=t.length;f<g;++f)o[f]=+i(t[f],f,t)}return v.initialize=function(f,g){u=f,s=g,c()},v.links=function(f){return arguments.length?(t=f,c(),v):t},v.id=function(f){return arguments.length?(e=f,v):e},v.iterations=function(f){return arguments.length?(p=+f,v):p},v.strength=function(f){return arguments.length?(n=typeof f=="function"?f:O(+f),m(),v):n},v.distance=function(f){return arguments.length?(i=typeof f=="function"?f:O(+f),l(),v):i},v}var mn={value:()=>{}};function Mt(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new H(n)}function H(t){this._=t}function dn(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}H.prototype=Mt.prototype={constructor:H,on:function(t,e){var n=this._,r=dn(t+"",n),i,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((i=(t=r[o]).type)&&(i=_n(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(i=(t=r[o]).type)n[i]=yt(n[i],t.name,e);else if(e==null)for(i in n)n[i]=yt(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new H(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function _n(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function yt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=mn,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var F=0,X=0,C=0,Nt=1e3,K,Y,R=0,S=0,U=0,B=typeof performance=="object"&&performance.now?performance:Date,bt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function At(){return S||(bt(xn),S=B.now()+U)}function xn(){S=0}function ot(){this._call=this._time=this._next=null}ot.prototype=Et.prototype={constructor:ot,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?At():+n)+(e==null?0:+e),!this._next&&Y!==this&&(Y?Y._next=this:K=this,Y=this),this._call=t,this._time=n,at()},stop:function(){this._call&&(this._call=null,this._time=1/0,at())}};function Et(t,e,n){var r=new ot;return r.restart(t,e,n),r}function Tn(){At(),++F;for(var t=K,e;t;)(e=S-t._time)>=0&&t._call.call(null,e),t=t._next;--F}function pt(){S=(R=B.now())+U,F=X=0;try{Tn()}finally{F=0,Nn(),S=0}}function Mn(){var t=B.now(),e=t-R;e>Nt&&(U-=e,R=t)}function Nn(){for(var t,e=K,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:K=n);Y=t,at(r)}function at(t){if(!F){X&&(X=clearTimeout(X));var e=t-S;e>24?(t<1/0&&(X=setTimeout(pt,t-B.now()-U)),C&&(C=clearInterval(C))):(C||(R=B.now(),C=setInterval(Mn,Nt)),F=1,bt(pt))}}const bn=1664525,An=1013904223,wt=4294967296;function En(){let t=1;return()=>(t=(bn*t+An)%wt)/wt}function jn(t){return t.x}function Pn(t){return t.y}var kn=10,Dn=Math.PI*(3-Math.sqrt(5));function Ln(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,u=.6,h=new Map,y=Et(d),s=Mt("tick","end"),p=En();t==null&&(t=[]);function d(){v(),s.call("tick",e),n<r&&(y.stop(),s.call("end",e))}function v(l){var f,g=t.length,w;l===void 0&&(l=1);for(var _=0;_<l;++_)for(n+=(o-n)*i,h.forEach(function(a){a(n)}),f=0;f<g;++f)w=t[f],w.fx==null?w.x+=w.vx*=u:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=u:(w.y=w.fy,w.vy=0);return e}function c(){for(var l=0,f=t.length,g;l<f;++l){if(g=t[l],g.index=l,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var w=kn*Math.sqrt(.5+l),_=l*Dn;g.x=w*Math.cos(_),g.y=w*Math.sin(_)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function m(l){return l.initialize&&l.initialize(t,p),l}return c(),e={tick:v,restart:function(){return y.restart(d),e},stop:function(){return y.stop(),e},nodes:function(l){return arguments.length?(t=l,c(),h.forEach(m),e):t},alpha:function(l){return arguments.length?(n=+l,e):n},alphaMin:function(l){return arguments.length?(r=+l,e):r},alphaDecay:function(l){return arguments.length?(i=+l,e):+i},alphaTarget:function(l){return arguments.length?(o=+l,e):o},velocityDecay:function(l){return arguments.length?(u=1-l,e):1-u},randomSource:function(l){return arguments.length?(p=l,h.forEach(m),e):p},force:function(l,f){return arguments.length>1?(f==null?h.delete(l):h.set(l,m(f)),e):h.get(l)},find:function(l,f,g){var w=0,_=t.length,a,x,T,M,N;for(g==null?g=1/0:g*=g,w=0;w<_;++w)M=t[w],a=l-M.x,x=f-M.y,T=a*a+x*x,T<g&&(N=M,g=T);return N},on:function(l,f){return arguments.length>1?(s.on(l,f),e):s.on(l)}}}function Qn(){var t,e,n,r,i=O(-30),o,u=1,h=1/0,y=.81;function s(c){var m,l=t.length,f=ut(t,jn,Pn).visitAfter(d);for(r=c,m=0;m<l;++m)e=t[m],f.visit(v)}function p(){if(t){var c,m=t.length,l;for(o=new Array(m),c=0;c<m;++c)l=t[c],o[l.index]=+i(l,c,t)}}function d(c){var m=0,l,f,g=0,w,_,a;if(c.length){for(w=_=a=0;a<4;++a)(l=c[a])&&(f=Math.abs(l.value))&&(m+=l.value,g+=f,w+=f*l.x,_+=f*l.y);c.x=w/g,c.y=_/g}else{l=c,l.x=l.data.x,l.y=l.data.y;do m+=o[l.data.index];while(l=l.next)}c.value=m}function v(c,m,l,f){if(!c.value)return!0;var g=c.x-e.x,w=c.y-e.y,_=f-m,a=g*g+w*w;if(_*_/y<a)return a<h&&(g===0&&(g=q(n),a+=g*g),w===0&&(w=q(n),a+=w*w),a<u&&(a=Math.sqrt(u*a)),e.vx+=g*c.value*r/a,e.vy+=w*c.value*r/a),!0;if(c.length||a>=h)return;(c.data!==e||c.next)&&(g===0&&(g=q(n),a+=g*g),w===0&&(w=q(n),a+=w*w),a<u&&(a=Math.sqrt(u*a)));do c.data!==e&&(_=o[c.data.index]*r/a,e.vx+=g*_,e.vy+=w*_);while(c=c.next)}return s.initialize=function(c,m){t=c,n=m,p()},s.strength=function(c){return arguments.length?(i=typeof c=="function"?c:O(+c),p(),s):i},s.distanceMin=function(c){return arguments.length?(u=c*c,s):Math.sqrt(u)},s.distanceMax=function(c){return arguments.length?(h=c*c,s):Math.sqrt(h)},s.theta=function(c){return arguments.length?(y=c*c,s):Math.sqrt(y)},s}export{Bn as a,Qn as b,O as c,Yn as d,Xn as e,Ln as f,mt as g,Yt as h,Cn as i,Sn as j,Fn as s};
//# sourceMappingURL=manyBody-hrwLCHaU.js.map
