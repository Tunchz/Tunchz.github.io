
          <!DOCTYPE html>
          <html>
          <head>
            <meta charset="utf-8" />
            <title>Charticulator HTML Export</title>
            <script type="text/javascript" src='https://tunchz.github.io/Chart.Builder210/scripts/TunchzChartBuilder210.js'></script>
            <script type="text/javascript" src='data.js'></script>
            <script type="text/javascript" src='template.js'></script>

            <style type="text/css">
              #container {
                display: block;
                position: absolute;
                left: 0; right: 0; top: 0; bottom: 0;
              }
            </style>
          </head>
          <body>
            <div id="container"></div>
            <script type="text/javascript">
              CharticulatorContainer.initialize().then(function() {
                                              
                const chartTemplate = new CharticulatorContainer.ChartTemplate(
                  template
                );
                // chartTemplate.reset();

                const defaultTable = dataset.tables[0];
                const columns = defaultTable.columns;
                chartTemplate.assignTable(defaultTable.name, defaultTable.name);
                for (const column of columns) {
                  chartTemplate.assignColumn(
                    defaultTable.name,
                    column.name,
                    column.name
                  );
                }

                // links table
                const linksTable = dataset.tables[1];
                const links = linksTable && (linksTable.columns);
                if (links) {
                  chartTemplate.assignTable(linksTable.name, linksTable.name);
                  for (const column of links) {
                    chartTemplate.assignColumn(
                      linksTable.name,
                      column.name,
                      column.name
                    );
                  }
                }
                const instance = chartTemplate.instantiate(dataset);

                const { chart } = instance;

                // for (const property of template.properties) {
                //   if (property.target.attribute) {
                //     CharticulatorContainer.ChartTemplate.SetChartAttributeMapping(
                //       chart,
                //       property.objectID,
                //       property.target.attribute,
                //       {
                //         type: "value",
                //         value: property.default,
                //       }
                //     );
                //   }
                  
                // }

                const container = new CharticulatorContainer.ChartContainer({ chart: chart }, dataset);
                const width = document.getElementById("container").getBoundingClientRect().width;
                const height = document.getElementById("container").getBoundingClientRect().height;

                // console.log(">>> width : "+width+" | height : "+height)
                container.mount("container", width, height);
                window.addEventListener("resize", function() {
                  container.resize(
                    document.getElementById("container").getBoundingClientRect().width,
                    document.getElementById("container").getBoundingClientRect().height
                  );
                });
                
                setTimeout(function(){ 
                  console.log(">>> container resize");
                  container.resize(
                      document.getElementById("container").getBoundingClientRect().width,
                      document.getElementById("container").getBoundingClientRect().height
                  );
                }, 100);
              });
            </script>
          </body>
          </html>
        